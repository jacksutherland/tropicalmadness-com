var dom=null;DOMClass=class{body;constructor(){this.body=document.getElementsByTagName("body")[0],this.addLoadEvents()}onLoad(e){this.isLoaded()?e():this.addCallback(e)}addLoadEvents(){var e=[],t=!1,n=function(){t=!0,e.forEach((function(e,t){e()}))};this.isLoaded=function(){return t},this.addCallback=function(t){e.push(t)},"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?n():document.addEventListener("DOMContentLoaded",(function(){n()}))}getCollection(e){return"function"==typeof e[Symbol.iterator]?e:[e]}each(e,t){e=this.getCollection(e);for(var n=0;n<e.length;n++)t.bind(e[n])()}bodyClickListener(e){var t=this,n=function(a){a.stopPropagation(),t.body.removeEventListener("click",n),e.callback()};e.trigger.addEventListener("click",(function(a){a.preventDefault(),a.stopPropagation(),e.callback()?t.body.addEventListener("click",n):t.body.removeEventListener("click",n)})),e.hasOwnProperty("excludes")&&e.excludes.forEach((function(e,t){e.addEventListener("click",(function(e){e.stopPropagation()}))}))}addEventListener(e,t,n){t=this.getCollection(t);for(var a=0;a<t.length;a++)t[a].addEventListener(e,(function(e){n.bind(this)(e)}))}closestParent(e,t){for(;e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}addClasses(e,t){e=this.getCollection(e);for(var n=0;n<e.length;n++)e[n].classList.add(t);return e}removeClasses(e,t){e=this.getCollection(e);for(var n=0;n<e.length;n++)e[n].classList.remove(t);return e}containsClasses(e,t){var n=!1;e=this.getCollection(e);for(var a=0;a<e.length;a++)e[a].classList.contains(t)&&(n=!0);return n}get(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(this.responseText)},n.open("GET",e,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send()}post(e,t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&(200==this.status?n.success(this.responseText):n.error(this.responseText))},a.open("POST",e,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(t)}fadeIn(e,t=null,n=500,a="block"){e=this.getCollection(e);for(var i=0;i<e.length;i++)e[i].style.display=a,e[i].classList.remove("fade-out"),e[i].classList.add("fade-in"),setTimeout(function(){this.el.style.display=a,this.el.classList.remove("fade-in"),this.islast&&"function"==typeof t&&t()}.bind({el:e[i],islast:i==e.length-1}),n);return e}fadeOut(e,t=null,n=500){e=this.getCollection(e);for(var a=0;a<e.length;a++)e[a].classList.remove("fade-in"),e[a].classList.add("fade-out"),setTimeout(function(){this.el.style.display="none",this.el.classList.remove("fade-out"),this.islast&&"function"==typeof t&&t()}.bind({el:e[a],islast:a==e.length-1}),n);return e}},(dom=new DOMClass).onLoad((function(){ux.init();var e=document.getElementsByClassName("hero-carousel");e.length>0&&ux.carousel.init(parseInt(e[0].dataset.delay));var t=document.getElementsByClassName("animated-hero-text");t.length>0&&ux.hero.animateText(t[0]),ux.modules.init(),ux.search.init();var n=document.querySelector("video#hero-vid");if(null!=n){for(var a=n.querySelectorAll("video#hero-vid source"),i=0;i<a.length;i++)a[i].setAttribute("src",a[i].getAttribute("data-src"));ux.breakpoint.isMobile()||n.load()}var s=document.getElementsByClassName("embed-map");for(i=0;i<s.length;i++){console.log("map "+i);var o=s[i].dataset.address;console.log("address "+o),s[i].innerHTML="<iframe width='100%' height='450' frameborder='0' scrolling='no' allowfullscreen='false' aria-hidden='true' tabindex='0' src='https://maps.google.com/maps?&amp;q="+encodeURIComponent(o)+"&amp;output=embed'></iframe>"}}));var ux={init:function(){ux.header.init(),ux.lists.init(),ux.breakpoint.check(),window.addEventListener("resize",(function(){ux.header.sticky(),ux.breakpoint.check()}))},breakpoint:{size:"",callbacks:[],isMobile:function(){return"sm"==ux.breakpoint.size||"xs"==ux.breakpoint.size},isTabletOrMobile:function(){return"md"==ux.breakpoint.size||"sm"==ux.breakpoint.size||"xs"==ux.breakpoint.size},changed:function(e){ux.breakpoint.callbacks.push(e)},check:function(){var e=window.innerWidth,t=ux.breakpoint.size;if(ux.breakpoint.size=e>=1300?"xxl":e>=1200?"xl":e>=992?"lg":e>=768?"md":e>=576?"sm":"xs",t!=ux.breakpoint.size)for(var n=0;n<ux.breakpoint.callbacks.length;n++)ux.breakpoint.callbacks[n](ux.breakpoint.size)}},header:{init:function(){ux.header.sticky(),dom.addEventListener("click",document.querySelectorAll("header .mobile-menu-trigger, header nav .menu-closed"),(function(e){dom.body.classList.toggle("overlay");var t=document.getElementById("main-menu");t.classList.toggle("mobile-nav"),t.classList.toggle("open")})),dom.addEventListener("click",document.querySelectorAll("nav li a .child-menu-trigger"),(function(e){e.preventDefault(),dom.closestParent(this,"li").classList.toggle("active"),dom.closestParent(this,"li").querySelector(".child-menu > ul").classList.toggle("active")})),dom.addEventListener("click",document.querySelectorAll("nav li ul li a .grandchild-menu-trigger"),(function(e){e.preventDefault(),dom.closestParent(this,"li").classList.toggle("active"),dom.closestParent(this,"li").querySelector(".grandchild-menu > ul").classList.toggle("active")}))},sticky:function(){var e=ux.breakpoint.isTabletOrMobile()?120:177,t=document.documentElement;window.addEventListener("scroll",(function(){dom.body.scrollTop>0||t.scrollTop>0?dom.body.classList.add("scrolling"):dom.body.classList.remove("scrolling"),dom.body.scrollTop>e||t.scrollTop>e?dom.body.classList.add("sticky"):dom.body.classList.remove("sticky")}))}},hero:{animateText:function(e){var t=12e3,n=0,a=e.dataset.array.replace(/[\[\]']+/g,"").split("~"),i=document.getElementsByClassName("hero")[0],s=0,o=i.getElementsByTagName("video");o=o.length>0?o[0]:null;var r=function(){e.innerText=a[n++],e.classList.remove("hide"),e.classList.add("show"),setTimeout((function(){e.classList.remove("show"),e.classList.add("hide")}),t/2),n>=a.length&&(n=0)},l=new IntersectionObserver((function(a){!0===a[0].isIntersecting?(r(),s=setInterval(r,t),null!=o&&o.play()):(e.classList.remove("show"),e.classList.add("hide"),null!=o&&(o.pause(),o.currentTime=0,n=0),clearInterval(s))}),{threshold:[0]});null!=o?o.addEventListener("loadeddata",(function(){(t=1e3*Math.round(o.duration/a.length))<8e3&&(t=1e4),l.observe(i)})):l.observe(i)}},carousel:{delay:1,timeout:0,init:function(e){"number"==typeof e&&(ux.carousel.delay=1e3*e);var t=document.querySelectorAll(".carousel-nav a");dom.addEventListener("click",t,(function(e){e.preventDefault(),ux.carousel.change(this)})),ux.carousel.timeout=setTimeout((function(){requestAnimationFrame(ux.carousel.next)}),ux.carousel.delay)},next:function(){var e=document.querySelectorAll(".carousel-nav a.selected")[0],t=e.nextElementSibling;null==t&&(t=e.parentElement.children[0]),ux.carousel.change(t)},change:function(e){if(!e.classList.contains("selected")){clearTimeout(ux.carousel.timeout);var t=dom.closestParent(e,".hero-carousel"),n=t.querySelector(".slide.selected"),a=t.querySelector(".slide.default");null!=n&&n.classList.remove("selected"),null!=a&&a.classList.remove("default"),document.getElementById(e.getAttribute("href")).classList.add("selected"),dom.removeClasses(e.parentElement.children,"selected"),e.classList.add("selected"),ux.carousel.timeout=setTimeout((function(){requestAnimationFrame(ux.carousel.next)}),ux.carousel.delay)}}},lists:{init:function(){ux.lists.accordion();for(var e=document.querySelectorAll("[data-lazyload]"),t=0;t<e.length;t++)new ux.lists.lazyload(e[t])},accordion:function(){var e=document.getElementsByClassName("accordion-trigger");document.getElementsByClassName("accordion-info");dom.addEventListener("click",e,(function(t){t.preventDefault(),this.classList.contains("active")?dom.removeClasses(e,"active"):(dom.removeClasses(e,"active"),this.classList.add("active"))}))},lazyload:function(e){var t=0,n="infinite-scrolling",a="load-more-button",i=e.dataset.content,s=e.dataset.check,o=e.dataset.section,r=e.dataset.template,l=e.dataset.relation,u=e.nextElementSibling,c=document.createElement("div");c.classList.add("spinner");var d=u.classList.contains("lazyload-loadmore")?a:n;if(d==n)var m=new IntersectionObserver((function(e){!0===e[0].isIntersecting&&(u.innerHTML=c.outerHTML,m.unobserve(u),h((function(){u.innerHTML=""})))}),{threshold:[1]});else{var v=u.getElementsByTagName("a")[0];v.addEventListener("click",(function(e){e.preventDefault(),v.style.display="none",u.append(c),h((function(){u.removeChild(c)}))}))}var h=function(n){setTimeout((function(){var a=i+"?section="+o+"&template="+r+"&page="+ ++t+"&relation="+l;dom.get(a,(function(t){n(),e.innerHTML=e.innerHTML+t,f()}))}),200)},f=function(){var e=s+"?section="+o+"&page="+(t+1)+"&relation="+l;dom.get(e,(function(e){"1"==e.trim()&&(d==n?m.observe(u):v.style.display="inline-block")}))};f()}},search:{input:null,results:null,menu:null,form:null,predict:!0,init:function(){ux.search.menu=document.getElementsByClassName("predictive-search")[0],ux.search.form=ux.search.menu.getElementsByTagName("form")[0],ux.search.input=ux.search.menu.getElementsByTagName("input")[0],ux.search.results=ux.search.menu.getElementsByClassName("predictive-results")[0];var e=ux.search.menu.getElementsByTagName("a")[0];dom.bodyClickListener({trigger:e,excludes:[ux.search.input],callback:function(){return!!ux.search.menu.classList.toggle("open")||(ux.search.results.innerHTML="",!1)}}),ux.search.form.onsubmit=function(){if(0==ux.search.input.value.trim().length)return!1;ux.search.predict=!1},ux.search.input.onkeyup=function(){var e=this.value.trim();ux.search.predictive(e)},ux.search.input.onfocus=function(){var e=this.value.trim();ux.search.predictive(e)}},predictive:function(e){if(!ux.search.predict)return!1;if(e.length<3)return ux.search.results.innerHTML="",!1;var t=function(e){};setTimeout(function(){if(ux.search.input.value.trim()==this.q1){var e="/search/predictive-results?q="+this.q1;dom.get(e,function(e){if(!ux.search.predict)return!1;ux.search.input.value.trim()==this.q2&&(ux.search.results.innerHTML=e)}.bind({q2:this.q1,loadResults:t}))}}.bind({q1:e,loadResults:t}),0)}},modules:{init:function(e){var t=document.querySelectorAll(".module.videos");t.length>0&&ux.modules.videos.init(t)},videos:{init:function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){dom.each(e,(function(){new ux.modules.videos.createPlayer(this)}))}},createPlayer:function(e){var t=e.getElementsByClassName("video-thumbnail"),n=e.getElementsByClassName("video-player")[0],a=n.getElementsByClassName("video-cover")[0],i=null,s=n.dataset.id,o=n.dataset.url,r=ux.modules.videos.getIdFromUrl(o);new YT.Player("video-"+s,{videoId:r,playerVars:{rel:0},events:{onReady:function(e){i=e.target},onStateChange:function(e){e.data==YT.PlayerState.ENDED&&dom.fadeIn(a)}}});a.addEventListener("click",(function(e){e.preventDefault(),null!==i&&dom.fadeOut(a,(function(){i.playVideo()}))})),dom.addEventListener("click",t,(function(e){e.preventDefault();for(var n=this,s=0,o=0;o<t.length;o++)t[o].classList.contains("active")&&(s=t[o].id);if(s==n.id)return!1;dom.removeClasses(t,"active"),n.classList.add("active");var r=n.dataset.title,l=n.dataset.image,u=n.dataset.url,c=ux.modules.videos.getIdFromUrl(u);a.getElementsByClassName("video-title")[0].innerText=r,a.style.backgroundImage=""==l?"":"url('"+l+"')",i.stopVideo(),a.style.display="block",i.cueVideoById(c,0)}))},getIdFromUrl:function(e){var t=e.indexOf("v=")>-1?e.split("v=")[1]:e.split("youtu.be/")[1];return void 0!==t&&t.indexOf("&")>-1&&(t=t.substring(0,ampersandPos)),void 0===t?"":t}}},spa:{template:"",container:"",url:"",changed:null,isAtRoot:!0,init:function(e){ux.spa.template=e.template,ux.spa.container=e.container,ux.spa.url=e.url,ux.spa.param=e.param,ux.spa.changed=e.changed,window.onpopstate=function(e){if(ux.spa.hasHistory())var t=e.state.val,n=ux.spa.template+"?"+e.state.param+"="+e.state.val;else t="",n=ux.spa.template;dom.get(n,(function(e){document.querySelector(ux.spa.container).innerHTML=e,"function"==typeof ux.spa.changed&&ux.spa.changed(t)}))}},hasHistory:function(){return!(null==event.state||null==event.state.param||null==event.state.val)},resetUrl:function(){ux.spa.isAtRoot||(ux.spa.isAtRoot=!0,window.history.pushState(null,null,ux.spa.url))},clear:function(){document.querySelector(ux.spa.container).innerHTML=""},update:function(e,t,n,a){JSON.parse('{"'+e+'":"'+t+'"}');var i=ux.spa.template+"?"+e+"="+t;dom.get(i,(function(i){if(void 0===a||!a){ux.spa.isAtRoot=!1;var s=""==t?ux.spa.url:ux.spa.url+e+"/"+t;window.history.pushState({param:e,val:t},null,s)}document.querySelector(ux.spa.container).innerHTML=i,"function"==typeof n&&n()}))}},imageviewer:{imageId:null,zoomId:null,zoomInited:!1,zoomer:null,init:function(){null!=ux.imageviewer.imageId&&null!=ux.imageviewer.zoomId&&(ux.imageviewer.zoomInited=!0,ux.imageviewer.zoomer=new ux.imageviewer.imagezoom(ux.imageviewer.imageId,ux.imageviewer.zoomId),ux.breakpoint.changed((function(e){"xs"!=e&&"sm"!=e&&ux.imageviewer.zoomer.resize()}))),ux.imageviewer.thumbnails()},thumbnails:function(){var e=document.getElementById(ux.imageviewer.imageId);null!=ux.imageviewer.zoomer&&(e.complete&&ux.imageviewer.zoomer.resize(),e.onload=function(){ux.imageviewer.zoomer.resize()});var t=document.querySelectorAll(".image-thumbnails li");dom.addEventListener("click",t,(function(n){n.preventDefault();var a=this;a.classList.contains("active")||(dom.removeClasses(t,"active"),a.classList.add("active"),e.src=a.dataset.image)}))},imagezoom:function(e,t){var n,a,i,s,o;function r(e){var t,r,l;e.preventDefault(),t=function(e){var t,a=0,i=0;return e=e||window.event,t=n.getBoundingClientRect(),a=e.pageX-t.left,i=e.pageY-t.top,{x:a-=window.pageXOffset,y:i-=window.pageYOffset}}(e),r=t.x-a.offsetWidth/2,l=t.y-a.offsetHeight/2,r>n.width-a.offsetWidth&&(r=n.width-a.offsetWidth),r<0&&(r=0),l>n.height-a.offsetHeight&&(l=n.height-a.offsetHeight),l<0&&(l=0),a.style.left=r+"px",a.style.top=l+"px",i.style.backgroundPosition="-"+r*s+"px -"+l*o+"px"}this.resize=function(){s=i.offsetWidth/a.offsetWidth,o=i.offsetHeight/a.offsetHeight,i.style.backgroundImage="url('"+n.src+"')",i.style.backgroundSize=n.width*s+"px "+n.height*o+"px"},n=document.getElementById(e),i=document.getElementById(t),(a=document.createElement("DIV")).setAttribute("class","image-zoom-lens"),n.parentElement.append(a),a.addEventListener("mousemove",r),n.addEventListener("mousemove",r),a.addEventListener("touchmove",r),n.addEventListener("touchmove",r)}},popup:function(e,t,n,a){var i=(screen.width-n)/2,s=screen.height/2-a/2;window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+a+", top="+s+", left="+i)}};dom.onLoad((function(){ux.forms.init()})),"object"!=typeof ux&&(ux={}),ux.forms={formAry:[],init:function(){dom.each(document.getElementsByClassName("form"),(function(){ux.forms.formAry.push(new ux.forms.Form(this))}))},serialize:function(e){for(var t=[],n=0;n<e.elements.length;n++){var a=e.elements[n];if(a.name&&!a.disabled&&"file"!==a.type&&"reset"!==a.type&&"submit"!==a.type&&"button"!==a.type)if("select-multiple"===a.type)for(var i=0;i<a.options.length;i++)a.options[i].selected&&t.push(encodeURIComponent(a.name)+"="+encodeURIComponent(a.options[i].value));else("checkbox"!==a.type&&"radio"!==a.type||a.checked)&&t.push(encodeURIComponent(a.name)+"="+encodeURIComponent(a.value))}return t.join("&")},Form:class{constructor(e){var t=e.querySelectorAll('[data-validation="required"]');dom.each(t,(function(){var t=this.getAttribute("name"),n=e.querySelector('label[for="'+t+'"]');n.setAttribute("title","Required"),n.innerText=n.innerText+" *"})),dom.addEventListener("change",t,(function(){this.value.trim().length>0&&this.classList.remove("error")})),"ajax"==e.dataset.submit&&this.addAjaxEvents()}addAjaxEvents(e){e.addEventListener("submit",(function(t){t.preventDefault();var n=!0,a=Math.floor(9990*Math.random()+9),i=e.querySelector('input[name="h0n3yp0t"]');if(null!=i)i.value=a;else{var s=document.createElement("input");s.setAttribute("name","h0n3yp0t"),s.setAttribute("type","hidden"),s.value=a,e.prepend(s)}var o=document.createElement("input");o.setAttribute("name","h0n3y"+a),o.setAttribute("type","hidden"),o.value=a,e.prepend(o),dom.each(requiredInputs,(function(){0==this.value.trim().length&&(n=!1,this.classList.add("error"))}));var r=ux.forms.serialize(e);return n&&dom.post(e.getAttribute("action"),r,{success:function(t){"success"==(t=JSON.parse(t)).status?e.hasAttribute("data-messageurl")?window.location.href=e.dataset.messageurl:(e.style.display="none",document.querySelector(e.dataset.message).style.display="block"):"error"==t.status&&data.errors&&console.log("Form Error")},error:function(e){console.log("Form Error")}}),!1}))}}};